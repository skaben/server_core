# Клиентские устройства

⚙ Устройства, которые подключаются к управляющему контуру и с которыми могут взаимодействовать (активно или пассивно, через наблюдение) игроки.

---

| Тип устройства | Что посылает на сервер | Что получает от сервера | Зависимость от состояния сервера | Влияние на ход игры |
| --- | --- | --- | --- | --- |
| [люстра (#RGB)](./light_array.md) | - | JSON с программой | уровень тревоги (alertState) | подсказка игрокам о статусе игры |
| [шкала (#SCL)](./scale.md) | - | JSON | цифровое значение уровня тревоги + границы значений всех цветов (alertCounter, AlertState threshold) | подсказка игрокам о статусе игры |
| [щиток (#PWR)](./powerbox.md) | факт подключения батарейки; при подключенной батарейке — факт прикладывания карты/ввода кода | JSON с текущим статусом питания (синий: OFF, голубой: AUX, прочие: PWR) | уровень тревоги (alertState) | Основная механика перевода данжа в игровое состояние (blue → cyan → green) |
| ящик (#BOX) | - | JSON (команда: открыть) | настраиваемо, по умолчанию нет, обычно вручную присылается команда | выдача игрокам лута |
| вентили (#PIPE) (зарезервировано) | успех/неуспех мини-игры | команда на доступность мини-игры и её параметры | ситуативно | влияет на цифровое значение уровня тревоги |
| аудиоустройство (#SND) | - | аудиофайлы, команды воспроизведения/остановки | ситуативно | подсказки/оповещения, фон, мини-квесты, "последние послания" |
| [лазерная дверь (#LOCK)](./lock.md) | пакеты skabenproto: факт открытия/закрытия, id приложенной карточки и её действие | открытие/закрытие, блокировка, звук, текущий цвет, список карт/статусов | карточки работают в соответствии с ACL | влияет на прохождение между зонами данжа и на цифровое значение уровня тревоги |
| [терминал (#TERMINAL)](./terminal.md) | У терминала четыре состояния: до мини‑игры, сама мини‑игра, успешно, неуспешно. Сервер получает: факт и вид оверрайда; результат мини‑игры; выбор пункта меню; чат с игроками. | Контент для игроков (аудио, видео, тексты, чат); параметры меню и оверрайдов; установка состояния терминала; параметры мини‑игр. | Переходы между состояниями зависят от цветового статуса базы; наборы контента и меню различаются по статусам. | Выдача информации игрокам, изменение общего статуса базы, открытие замков и хранилищ, чат с ИИ базы. |