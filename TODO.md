
#### Если это кто-то будет писать после меня - вот вам завещание как улучшить систему.

### Транспорт и воркеры

`core.transport` | `core.worker_queue_handlers`

Сейчас в сообщениях внутренней очереди беспорядок. Некоторые пакеты не сериализуются в SkabenEvent.

Нужно внедрить SkabenEvent для всех событий внутренней очереди. То есть SkabenPacket
должен терминироваться (превращаться в SkabenEvent) на ask_handler воркере и не попадать во внутренние очереди
client_update и state_update. Это позволит иметь единую структуру событий для всех воркеров в internal exchange.

Помимо этого, это позволит в будущем сделать систему конфигурируемых из админки эвентов (то, что сейчас выглядит
как MQTT-reaction, должно быть переписано в эвенты с использованием django-polymorphic для нужной вариативности).
При сохранении модели - отправляется сигнал во внутреннюю очередь.
Если там есть заголовки типа mqtt - формируется нужный MQTT пакет.
И так далее.
